{% extends "base.html" %}
{% block body %}
  <div id="edit_list">
    <h1>{% if edit  %}Edycja{% else %}Dodanie{% endif %} Listy</h1>
    
    <form class="pure-form pure-form-stacked" method="POST" action="">
      <div class="form_failed">
        {% if is_failed %}
          <p>Nie sempaj na znaczki! Pieć znaczków na pole styka:D</p>
        {% endif %}
      </div>
      <fieldset>
        <label for="title">Tytuł</label>
        <input type="text" name="title" value="{{list_obj.title}}" />
        <label for="description">Opis</label>
        <textarea name="description">{{ list_obj.description}}</textarea>
      </fieldset>
      <fieldset>
        <label>Do zrobienia</label>
        <div id="todo-list">
          {% for field in list_obj.fields %}
          <div class="pure-g todo">
            <div class="pure-u-20-24">
              <input type="text" name="todo_{{field.todo.id}}" value="{{field.todo}}" />
            </div>
            <div class="pure-u-4-24">
              <button class="pure-button pure-button-primary">Usuń zadanie</button>
            </div>
          </div>
          {% endfor %}
          <label>Dodaj nowe zadanie:</label>
          <div class="pure-g todo">
            <div class="pure-u-24-24">
              <input type="text" name="todo"/>
            </div>
          </div>
          <div class="pure-g todo">
            <div class="pure-u-24-24">
              <input type="text" name="todo"/>
            </div>
          </div>
          <div class="pure-g todo">
            <div class="pure-u-24-24">
              <input type="text" name="todo"/>
            </div>
          </div>
        </div>
      </fieldset>
      <button type="submit" class="pure-button pure-button-primary">Zapisz liste</button>
      <button class="pure-button pure-button-primary">Usuń liste</button>
      <button class="pure-button pure-button-primary">Anuluj</button>
    </form>
  </div>
{% endblock %}
